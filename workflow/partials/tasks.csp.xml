<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="partials/tasks.csp" application="/workflow/"><![CDATA[
<div class="row-fluid">
  <div class="span1">
  </div>
  
  <div ng-hide="page.loginState != 1" ng-controller="GridCtrl">
  
    <table class="table-tasks" ng-class="page.grid.cssClass" id="tasksTable">
      <caption class="text-left" style="padding-bottom: 5px;">
        <b ng-bind="page.grid.caption"></b>
      </caption>
      <thead style="cursor: pointer;">
        <tr>
          <th class="text-center">#</th>
          <!-- In the cycle prints the name of the column, specify for each column click handler and the icon (sorting) -->
          <th ng-repeat="column in page.grid.columns" class="text-center" ng-click="page.sort(column.property, page.isUp)">
            <span ng-bind="column.name"></span>
              <i ng-class="page.sortIcon" ng-show="column.property == page.predicate"></i>   
          </th>
          <th class="text-center">Action</th>
        </tr>
      </thead>
      <tfoot>
        <tr>
          <!-- Control buttons and messages -->
          <td colspan="{{page.grid.columns.length + 2}}">
            <p ng-hide="page.grid.items.length">There is no task(s) for current user.</p>
            <span>
              Showing {{page.totalCnt()}} of {{page.grid.items.length}} task(s).
            </span> 
          </td>
        </tr>   
      </tfoot>
      <tbody style="cursor: default;">
        <!-- In the cycle prints the table rows (sort by specified column) -->
        <tr ng-repeat="item in page.grid.items | orderBy:page.predicate:page.isUp | filter:query" ng-class="item.rowCss">
          <td ng-bind="$index + 1" class="text-right"></td>    
          <!-- In the cycle prints the table cells to each row -->
          <td ng-repeat="column in page.grid.columns" style="text-align: {{column.align}};" ng-click="page.select(item)">
            <span class="label label-info" ng-show="$first && item.New">New</span>
            <span ng-hide="$first" ng-bind="page.getPropertyValue(item, column.property)"></span>     
          </td>
          <td class="text-center">
            <div class="button button-success glyphicon glyphicon-plus-sign" ng-click="page.accept(item.ID)"   ng-show="!page.isAssigned(item)"></div>
            <div class="button button-info glyphicon glyphicon-search"  ng-click="page.modalOpen('lg', item.ID)" ng-show="page.isAssigned(item)"></div>
            <div class="button button-danger glyphicon glyphicon-minus-sign"  ng-click="page.yield(item.ID)" ng-show="page.isAssigned(item)"></div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="span1">
  </div>
</div>
<br>
]]></CSP>
</Export>
